/*!
 * Angular FileManager v1.4.8 (https://github.com/joni2back/angular-filemanager)
 * Jonas Sciangula Street <joni2back@gmail.com>
 * Licensed under MIT (https://github.com/joni2back/angular-filemanager/blob/master/LICENSE)
 */
(function(b,a,c){a.module("FileManagerApp",["pascalprecht.translate"]);c(b.document).on("shown.bs.modal",".modal",function(){b.setTimeout(function(){c("[autofocus]",this).focus()}.bind(this),100)});c(b.document).on("click",function(){c("#context-menu").hide()});c(b.document).on("contextmenu",".main-navigation .table-files td:first-child, .iconset a.thumbnail",function(d){c("#context-menu").hide().css({left:d.pageX,top:d.pageY}).show();d.preventDefault()})})(window,angular,jQuery);(function(b,a,c){a.module("FileManagerApp").controller("FileManagerCtrl",["$scope","$translate","fileManagerConfig","item","fileNavigator","fileUploader",function(d,g,j,e,f,i){var h=b.localStorage;d.config=j;d.reverse=false;d.predicate=["model.type","model.name"];d.order=function(k){d.reverse=(d.predicate[1]===k)?!d.reverse:false;d.predicate[1]=k};d.query="";d.temp=new e();d.fileNavigator=new f();d.fileUploader=i;d.uploadFileList=[];d.viewTemplate=h.getItem("viewTemplate")||"main-table.html";d.setTemplate=function(k){h.setItem("viewTemplate",k);d.viewTemplate=k};d.changeLanguage=function(k){if(k){h.setItem("language",k);return g.use(k)}g.use(h.getItem("language")||j.defaultLang)};d.touch=function(k){k=k instanceof e?k:new e();k.revert();d.temp=k};d.smartClick=function(k){if(k.isFolder()){return d.fileNavigator.folderClick(k)}if(k.isImage()){if(d.config.previewImagesInModal){return d.openImagePreview(k)}return k.download(true)}if(k.isEditable()){return d.openEditItem(k)}};d.openImagePreview=function(k){k.inprocess=true;d.modal("imagepreview").find("#imagepreview-target").attr("src",k.getUrl(true)).unbind("load error").on("load error",function(){k.inprocess=false;d.$apply()});return d.touch(k)};d.openEditItem=function(k){k.getContent();d.modal("edit");return d.touch(k)};d.modal=function(l,k){return c("#"+l).modal(k?"hide":"show")};d.isInThisPath=function(l){var k=d.fileNavigator.currentPath.join("/");return k.indexOf(l)!==-1};d.edit=function(k){k.edit().then(function(){d.modal("edit",true)})};d.changePermissions=function(k){k.changePermissions().then(function(){d.modal("changepermissions",true)})};d.copy=function(k){var l=k.tempModel.path.join()===k.model.path.join();if(l&&d.fileNavigator.fileNameExists(k.tempModel.name)){k.error=g.instant("error_invalid_filename");return false}k.copy().then(function(){d.fileNavigator.refresh();d.modal("copy",true)})};d.compress=function(k){k.compress().then(function(){d.fileNavigator.refresh();if(!d.config.compressAsync){return d.modal("compress",true)}k.asyncSuccess=true},function(){k.asyncSuccess=false})};d.extract=function(k){k.extract().then(function(){d.fileNavigator.refresh();if(!d.config.extractAsync){return d.modal("extract",true)}k.asyncSuccess=true},function(){k.asyncSuccess=false})};d.remove=function(k){k.remove().then(function(){d.fileNavigator.refresh();d.modal("delete",true)})};d.rename=function(k){var l=k.tempModel.path.join()===k.model.path.join();if(l&&d.fileNavigator.fileNameExists(k.tempModel.name)){k.error=g.instant("error_invalid_filename");return false}k.rename().then(function(){d.fileNavigator.refresh();d.modal("rename",true)})};d.createFolder=function(l){var k=l.tempModel.name&&l.tempModel.name.trim();l.tempModel.type="dir";l.tempModel.path=d.fileNavigator.currentPath;if(k&&!d.fileNavigator.fileNameExists(k)){l.createFolder().then(function(){d.fileNavigator.refresh();d.modal("newfolder",true)})}else{l.error=g.instant("error_invalid_filename");return false}};d.uploadFiles=function(){d.fileUploader.upload(d.uploadFileList,d.fileNavigator.currentPath).then(function(){d.fileNavigator.refresh();d.modal("uploadfile",true)},function(l){var k=l.result&&l.result.error||g.instant("error_uploading_files");d.temp.error=k})};d.getQueryParam=function(l){var k;b.location.search.substr(1).split("&").forEach(function(m){if(l===m.split("=")[0]){k=m.split("=")[1];return false}});return k};d.changeLanguage(d.getQueryParam("lang"));d.isWindows=d.getQueryParam("server")==="Windows";d.fileNavigator.refresh()}])})(window,angular,jQuery);(function(a,b){a.module("FileManagerApp").controller("ModalFileManagerCtrl",["$scope","$rootScope","fileNavigator",function(d,c,e){d.reverse=false;d.predicate=["model.type","model.name"];d.order=function(f){d.reverse=(d.predicate[1]===f)?!d.reverse:false;d.predicate[1]=f};d.fileNavigator=new e();c.select=function(g,f){f.tempModel.path=g.model.fullPath().split("/");b("#selector").modal("hide")};c.openNavigator=function(f){d.fileNavigator.currentPath=f.model.path.slice();d.fileNavigator.refresh();b("#selector").modal("show")}}])})(angular,jQuery);(function(a){var b=a.module("FileManagerApp");b.directive("angularFilemanager",["$parse","fileManagerConfig",function(c,d){return{restrict:"EA",templateUrl:d.tplPath+"/main.html"}}]);b.directive("ngFile",["$parse",function(c){return{restrict:"A",link:function(h,g,f){var e=c(f.ngFile);var d=e.assign;g.bind("change",function(){h.$apply(function(){d(h,g[0].files)})})}}}]);b.directive("ngRightClick",["$parse",function(c){return function(g,e,d){var f=c(d.ngRightClick);e.bind("contextmenu",function(h){g.$apply(function(){h.preventDefault();f(g,{$event:h})})})}}])})(angular);(function(a){a.module("FileManagerApp").service("chmod",function(){var b=function(d){this.owner=this.getRwxObj();this.group=this.getRwxObj();this.others=this.getRwxObj();if(d){var c=isNaN(d)?this.convertfromCode(d):this.convertfromOctal(d);if(!c){throw new Error("Invalid chmod input data")}this.owner=c.owner;this.group=c.group;this.others=c.others}};b.prototype.toOctal=function(e,d){var h=["owner","group","others"];var c=[];for(var g in h){var f=h[g];c[g]=this[f].read&&this.octalValues.read||0;c[g]+=this[f].write&&this.octalValues.write||0;c[g]+=this[f].exec&&this.octalValues.exec||0}return(e||"")+c.join("")+(d||"")};b.prototype.toCode=function(e,d){var h=["owner","group","others"];var c=[];for(var g in h){var f=h[g];c[g]=this[f].read&&this.codeValues.read||"-";c[g]+=this[f].write&&this.codeValues.write||"-";c[g]+=this[f].exec&&this.codeValues.exec||"-"}return(e||"")+c.join("")+(d||"")};b.prototype.getRwxObj=function(){return{read:false,write:false,exec:false}};b.prototype.octalValues={read:4,write:2,exec:1};b.prototype.codeValues={read:"r",write:"w",exec:"x"};b.prototype.convertfromCode=function(g){g=(""+g).replace(/\s/g,"");g=g.length===10?g.substr(1):g;if(!/^[-rwxt]{9}$/.test(g)){return}var c=[],f=g.match(/.{1,3}/g);for(var e in f){var d=this.getRwxObj();d.read=/r/.test(f[e]);d.write=/w/.test(f[e]);d.exec=/x|t/.test(f[e]);c.push(d)}return{owner:c[0],group:c[1],others:c[2]}};b.prototype.convertfromOctal=function(g){g=(""+g).replace(/\s/g,"");g=g.length===4?g.substr(1):g;if(!/^[0-7]{3}$/.test(g)){return}var c=[],f=g.match(/.{1}/g);for(var e in f){var d=this.getRwxObj();d.read=/[4567]/.test(f[e]);d.write=/[2367]/.test(f[e]);d.exec=/[1357]/.test(f[e]);c.push(d)}return{owner:c[0],group:c[1],others:c[2]}};return b})})(angular);(function(b,a,c){a.module("FileManagerApp").factory("item",["$http","$q","$translate","fileManagerConfig","chmod",function(i,d,g,h,f){var e=function(l,m){var k={name:l&&l.name||"",path:m||[],type:l&&l.type||"file",size:l&&parseInt(l.size||0),date:j(l&&l.date),perms:new f(l&&l.rights),content:l&&l.content||"",recursive:false,sizeKb:function(){return Math.round(this.size/1024,1)},fullPath:function(){return("/"+this.path.join("/")+"/"+this.name).replace(/\/\//,"/")}};this.error="";this.inprocess=false;this.model=a.copy(k);this.tempModel=a.copy(k);function j(n){var o=(n||"").toString().split(/[- :]/);return new Date(o[0],o[1]-1,o[2],o[3],o[4],o[5])}};e.prototype.update=function(){a.extend(this.model,a.copy(this.tempModel))};e.prototype.revert=function(){a.extend(this.tempModel,a.copy(this.model));this.error=""};e.prototype.deferredHandler=function(k,j,l){if(!k||typeof k!=="object"){this.error="Bridge response error, please check the docs"}if(k.result&&k.result.error){this.error=k.result.error}if(!this.error&&k.error){this.error=k.error.message}if(!this.error&&l){this.error=l}if(this.error){return j.reject(k)}this.update();return j.resolve(k)};e.prototype.createFolder=function(){var k=this;var j=d.defer();var l={path:k.tempModel.path.join("/"),name:k.tempModel.name};k.inprocess=true;k.error="";i.post(h.createFolderUrl,l).success(function(m){k.deferredHandler(m,j)}).error(function(m){k.deferredHandler(m,j,g.instant("error_creating_folder"))})["finally"](function(){k.inprocess=false});return j.promise};e.prototype.rename=function(){var k=this;var j=d.defer();var l={path:k.model.fullPath(),newPath:k.tempModel.fullPath()};k.inprocess=true;k.error="";i.post(h.renameUrl,l).success(function(m){k.deferredHandler(m,j)}).error(function(m){k.deferredHandler(m,j,g.instant("error_renaming"))})["finally"](function(){k.inprocess=false});return j.promise};e.prototype.copy=function(){var k=this;var j=d.defer();var l={path:k.model.fullPath(),newPath:k.tempModel.fullPath()};k.inprocess=true;k.error="";i.post(h.copyUrl,l).success(function(m){k.deferredHandler(m,j)}).error(function(m){k.deferredHandler(m,j,g.instant("error_copying"))})["finally"](function(){k.inprocess=false});return j.promise};e.prototype.compress=function(){var k=this;var j=d.defer();var l={params:{mode:"compress",path:k.model.fullPath(),destination:k.tempModel.fullPath()}};k.inprocess=true;k.error="";i.post(h.compressUrl,l).success(function(m){k.deferredHandler(m,j)}).error(function(m){k.deferredHandler(m,j,g.instant("error_compressing"))})["finally"](function(){k.inprocess=false});return j.promise};e.prototype.extract=function(){var k=this;var j=d.defer();var l={params:{mode:"extract",path:k.model.fullPath(),sourceFile:k.model.fullPath(),destination:k.tempModel.fullPath()}};k.inprocess=true;k.error="";i.post(h.extractUrl,l).success(function(m){k.deferredHandler(m,j)}).error(function(m){k.deferredHandler(m,j,g.instant("error_extracting"))})["finally"](function(){k.inprocess=false});return j.promise};e.prototype.getUrl=function(l){var k=this.model.fullPath();var j={preview:l,path:k};return k&&[h.downloadFileUrl,c.param(j)].join("?")};e.prototype.download=function(j){if(this.model.type!=="dir"){b.open(this.getUrl(j),"_blank","")}};e.prototype.getContent=function(){var k=this;var j=d.defer();var l={path:k.tempModel.fullPath()};k.inprocess=true;k.error="";i.post(h.getContentUrl,l).success(function(m){k.tempModel.content=k.model.content=m.result;k.deferredHandler(m,j)}).error(function(m){k.deferredHandler(m,j,g.instant("error_getting_content"))})["finally"](function(){k.inprocess=false});return j.promise};e.prototype.remove=function(){var k=this;var j=d.defer();var l={path:k.tempModel.fullPath()};k.inprocess=true;k.error="";i.post(h.removeUrl,l).success(function(m){k.deferredHandler(m,j)}).error(function(m){k.deferredHandler(m,j,g.instant("error_deleting"))})["finally"](function(){k.inprocess=false});return j.promise};e.prototype.edit=function(){var k=this;var j=d.defer();var l={params:{mode:"savefile",content:k.tempModel.content,path:k.tempModel.fullPath()}};k.inprocess=true;k.error="";i.post(h.editUrl,l).success(function(m){k.deferredHandler(m,j)}).error(function(m){k.deferredHandler(m,j,g.instant("error_modifying"))})["finally"](function(){k.inprocess=false});return j.promise};e.prototype.changePermissions=function(){var k=this;var j=d.defer();var l={params:{mode:"changepermissions",path:k.tempModel.fullPath(),perms:k.tempModel.perms.toOctal(),permsCode:k.tempModel.perms.toCode(),recursive:k.tempModel.recursive}};k.inprocess=true;k.error="";i.post(h.permissionsUrl,l).success(function(m){k.deferredHandler(m,j)}).error(function(m){k.deferredHandler(m,j,g.instant("error_changing_perms"))})["finally"](function(){k.inprocess=false});return j.promise};e.prototype.isFolder=function(){return this.model.type==="dir"};e.prototype.isEditable=function(){return !this.isFolder()&&h.isEditableFilePattern.test(this.model.name)};e.prototype.isImage=function(){return h.isImageFilePattern.test(this.model.name)};e.prototype.isCompressible=function(){return this.isFolder()};e.prototype.isExtractable=function(){return !this.isFolder()&&h.isExtractableFilePattern.test(this.model.name)};return e}])})(window,angular,jQuery);(function(a){var b=a.module("FileManagerApp");b.filter("strLimit",["$filter",function(c){return function(e,d){if(e.length<=d){return e}return c("limitTo")(e,d)+"..."}}]);b.filter("formatDate",["$filter",function(){return function(c){return c instanceof Date?c.toISOString().substring(0,19).replace("T"," "):(c.toLocaleString||c.toString).apply(c)}}]);b.filter("humanReadableFileSize",["$filter","fileManagerConfig",function(d,c){var f=[" kB"," MB"," GB"," TB","PB","EB","ZB","YB"];var e=["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"];return function(h){var j=-1;var k=h;do{k=k/1024;j++}while(k>1024);var g=c.useBinarySizePrefixes?e[j]:f[j];return Math.max(k,0.1).toFixed(1)+" "+g}}])})(angular);(function(a){a.module("FileManagerApp").provider("fileManagerConfig",function(){var b={appName:"",defaultLang:"en",listUrl:"/api/list",uploadUrl:"/api/upload",renameUrl:"/api/rename",copyUrl:"/api/copy",removeUrl:"/api/remove",editUrl:"/api/edit",getContentUrl:"/api/content",createFolderUrl:"/api/create",downloadFileUrl:"/api/download",compressUrl:"bridges/php/handler.php",extractUrl:"bridges/php/handler.php",permissionsUrl:"/api/permission",searchForm:true,sidebar:true,breadcrumb:true,allowedActions:{upload:true,rename:true,copy:true,edit:true,changePermissions:true,compress:false,compressChooseName:true,extract:false,download:true,preview:true,remove:true},showSizeForDirectories:false,useBinarySizePrefixes:false,previewImagesInModal:true,enablePermissionsRecursive:true,compressAsync:true,extractAsync:true,isEditableFilePattern:/\.(txt|html?|aspx?|ini|pl|py|md|css|js|log|htaccess|htpasswd|json|sql|xml|xslt?|sh|rb|as|bat|cmd|coffee|php[3-6]?|java|c|cbl|go|h|scala|vb)$/i,isImageFilePattern:/\.(jpe?g|gif|bmp|png|svg|tiff?)$/i,isExtractableFilePattern:/\.(gz|tar|rar|g?zip)$/i,tplPath:"src/templates"};return{$get:function(){return b},set:function(c){a.extend(b,c)}}})})(angular);(function(a){a.module("FileManagerApp").config(["$translateProvider",function(b){b.useSanitizeValueStrategy(null);b.translations("en",{filemanager:"File Manager",language:"Language",english:"English",spanish:"Spanish",portuguese:"Portuguese",french:"French",german:"German",hebrew:"Hebrew",confirm:"Confirm",cancel:"Cancel",close:"Close",upload_file:"Upload file",files_will_uploaded_to:"Files will be uploaded to",uploading:"Uploading",permissions:"Permissions",select_destination_folder:"Select the destination folder",source:"Source",destination:"Destination",copy_file:"Copy file",sure_to_delete:"Are you sure to delete",change_name_move:"Change name / move",enter_new_name_for:"Enter new name for",extract_item:"Extract item",extraction_started:"Extraction started in a background process",compression_started:"Compression started in a background process",enter_folder_name_for_extraction:"Enter the folder name for the extraction of",enter_folder_name_for_compression:"Enter the folder name for the compression of",toggle_fullscreen:"Toggle fullscreen",edit_file:"Edit file",file_content:"File content",loading:"Loading",search:"Search",create_folder:"Create folder",create:"Create",folder_name:"Folder name",upload:"Upload",change_permissions:"Change permissions",change:"Change",details:"Details",icons:"Icons",list:"List",name:"Name",size:"Size",actions:"Actions",date:"Date",no_files_in_folder:"No files in this folder",no_folders_in_folder:"This folder not contains children folders",select_this:"Select this",go_back:"Go back",wait:"Wait",move:"Move",download:"Download",view_item:"View item",remove:"Delete",edit:"Edit",copy:"Copy",rename:"Rename",extract:"Extract",compress:"Compress",error_invalid_filename:"Invalid filename or already exists, specify another name",error_modifying:"An error occurred modifying the file",error_deleting:"An error occurred deleting the file or folder",error_renaming:"An error occurred renaming the file",error_copying:"An error occurred copying the file",error_compressing:"An error occurred compressing the file or folder",error_extracting:"An error occurred extracting the file",error_creating_folder:"An error occurred creating the folder",error_getting_content:"An error occurred getting the content of the file",error_changing_perms:"An error occurred changing the permissions of the file",error_uploading_files:"An error occurred uploading files",sure_to_start_compression_with:"Are you sure to compress",owner:"Owner",group:"Group",others:"Others",read:"Read",write:"Write",exec:"Exec",original:"Original",changes:"Changes",recursive:"Recursive",preview:"Item preview",open:"Open"});b.translations("he",{filemanager:"מנהל קבצים",language:"שפה",english:"אנגלית",spanish:"ספרדית",portuguese:"פורטוגזית",french:"צרפתית",german:"גרמנית",hebrew:"עברי",confirm:"אשר",cancel:"בטל",close:"סגור",upload_file:"העלה קובץ",files_will_uploaded_to:"הקבצים יעלו ל",uploading:"מעלה",permissions:"הרשאות",select_destination_folder:"בחר תיקיית יעד",source:"מקור",destination:"יעד",copy_file:"העתק קובץ",sure_to_delete:"האם אתה בטוח שברצונך למחוק",change_name_move:"שנה שם / הזז",enter_new_name_for:"הקלד שם חדש עבור",extract_item:"חלץ פריט",extraction_started:"תהליך החילוץ מתבצע ברקע",compression_started:"תהליך הכיווץ מתבצע ברקע",enter_folder_name_for_extraction:"הקלד שם תיקייה לחילוץ עבור",enter_folder_name_for_compression:"הקלד שם תיקייה לכיווץ עבור",toggle_fullscreen:"הפעל/בטל מסך מלא",edit_file:"ערוך קובץ",file_content:"תוכן הקובץ",loading:"טוען",search:"חפש",create_folder:"צור תיקייה",create:"צור",folder_name:"שם תיקייה",upload:"העלה",change_permissions:"שנה הרשאות",change:"שנה",details:"פרטים",icons:"סמלים",list:"רשימה",name:"שם",size:"גודל",actions:"פעולות",date:"תאריך",no_files_in_folder:"אין קבצים בתיקייה זו",no_folders_in_folder:"התיקייה הזו אינה כוללת תתי תיקיות",select_this:"בחר את זה",go_back:"חזור אחורה",wait:"חכה",move:"הזז",download:"הורד",view_item:"הצג פריט",remove:"מחק",edit:"ערוך",copy:"העתק",rename:"שנה שם",extract:"חלץ",compress:"כווץ",error_invalid_filename:"שם קובץ אינו תקין או קיים, ציין שם קובץ אחר",error_modifying:"התרחשה שגיאה בעת שינוי הקובץ",error_deleting:"התרחשה שגיאה בעת מחיקת הקובץ או התיקייה",error_renaming:"התרחשה שגיאה בעת שינוי שם הקובץ",error_copying:"התרחשה שגיאה בעת העתקת הקובץ",error_compressing:"התרחשה שגיאה בעת כיווץ הקובץ או התיקייה",error_extracting:"התרחשה שגיאה בעת חילוץ הקובץ או התיקייה",error_creating_folder:"התרחשה שגיאה בעת יצירת התיקייה",error_getting_content:"התרחשה שגיאה בעת בקשת תוכן הקובץ",error_changing_perms:"התרחשה שגיאה בעת שינוי הרשאות הקובץ",error_uploading_files:"התרחשה שגיאה בעת העלאת הקבצים",sure_to_start_compression_with:"האם אתה בטוח שברצונך לכווץ",owner:"בעלים",group:"קבוצה",others:"אחרים",read:"קריאה",write:"כתיבה",exec:"הרצה",original:"מקורי",changes:"שינויים",recursive:"רקורסיה",preview:"הצגת פריט",open:"פתח"});b.translations("pt",{filemanager:"Gerenciador de arquivos",language:"Língua",english:"Inglês",spanish:"Espanhol",portuguese:"Portugues",french:"Francês",german:"Alemão",hebrew:"Hebraico",confirm:"Confirmar",cancel:"Cancelar",close:"Fechar",upload_file:"Carregar arquivo",files_will_uploaded_to:"Os arquivos serão enviados para",uploading:"Carregar",permissions:"Autorizações",select_destination_folder:"Selecione a pasta de destino",source:"Origem",destination:"Destino",copy_file:"Copiar arquivo",sure_to_delete:"Tem certeza de que deseja apagar",change_name_move:"Renomear / mudança",enter_new_name_for:"Digite o novo nome para",extract_item:"Extrair arquivo",extraction_started:"A extração começou em um processo em segundo plano",compression_started:"A compressão começou em um processo em segundo plano",enter_folder_name_for_extraction:"Digite o nome da pasta para a extração de",enter_folder_name_for_compression:"Digite o nome da pasta para Compressão",toggle_fullscreen:"Ativar/desativar tela cheia",edit_file:"Editar arquivo",file_content:"Conteúdo do arquivo",loading:"Carregando",search:"Localizar",create_folder:"Criar Pasta",create:"Criar",folder_name:"Nome da pasta",upload:"Fazer",change_permissions:"Alterar permissões",change:"Alterar",details:"Detalhes",icons:"Icones",list:"Lista",name:"Nome",size:"Tamanho",actions:"Ações",date:"Data",no_files_in_folder:"Não há arquivos nesta pasta",no_folders_in_folder:"Esta pasta não contém subpastas",select_this:"Selecione esta",go_back:"Voltar",wait:"Espere",move:"Mover",download:"Baixar",view_item:"Veja o arquivo",remove:"Excluir",edit:"Editar",copy:"Copiar",rename:"Renomear",extract:"Extrair",compress:"Comprimir",error_invalid_filename:"Nome do arquivo inválido ou nome de arquivo já existe, especifique outro nome",error_modifying:"Ocorreu um erro ao modificar o arquivo",error_deleting:"Ocorreu um erro ao excluir o arquivo ou pasta",error_renaming:"Ocorreu um erro ao mudar o nome do arquivo",error_copying:"Ocorreu um erro ao copiar o arquivo",error_compressing:"Ocorreu um erro ao comprimir o arquivo ou pasta",error_extracting:"Ocorreu um erro ao extrair o arquivo",error_creating_folder:"Ocorreu um erro ao criar a pasta",error_getting_content:"Ocorreu um erro ao obter o conteúdo do arquivo",error_changing_perms:"Ocorreu um erro ao alterar as permissões do arquivo",error_uploading_files:"Ocorreu um erro upload de arquivos",sure_to_start_compression_with:"Tem certeza que deseja comprimir",owner:"Proprietário",group:"Grupo",others:"Outros",read:"Leitura",write:"Escrita ",exec:"Execução",original:"Original",changes:"Mudanças",recursive:"Recursiva",preview:"Visualização",open:"Abrir"});b.translations("es",{filemanager:"Administrador de archivos",language:"Idioma",english:"Ingles",spanish:"Español",portuguese:"Portugues",french:"Francés",german:"Alemán",hebrew:"Hebreo",confirm:"Confirmar",cancel:"Cancelar",close:"Cerrar",upload_file:"Subir archivo",files_will_uploaded_to:"Los archivos seran subidos a",uploading:"Subiendo",permissions:"Permisos",select_destination_folder:"Seleccione la carpeta de destino",source:"Origen",destination:"Destino",copy_file:"Copiar archivo",sure_to_delete:"Esta seguro que desea eliminar",change_name_move:"Renombrar / mover",enter_new_name_for:"Ingrese el nuevo nombre para",extract_item:"Extraer archivo",extraction_started:"La extraccion ha comenzado en un proceso de segundo plano",compression_started:"La compresion ha comenzado en un proceso de segundo plano",enter_folder_name_for_extraction:"Ingrese el nombre de la carpeta para la extraccion de",enter_folder_name_for_compression:"Ingrese el nombre de la carpeta para la compresion de",toggle_fullscreen:"Activar/Desactivar pantalla completa",edit_file:"Editar archivo",file_content:"Contenido del archivo",loading:"Cargando",search:"Buscar",create_folder:"Crear carpeta",create:"Crear",folder_name:"Nombre de la carpeta",upload:"Subir",change_permissions:"Cambiar permisos",change:"Cambiar",details:"Detalles",icons:"Iconos",list:"Lista",name:"Nombre",size:"Tamaño",actions:"Acciones",date:"Fecha",no_files_in_folder:"No hay archivos en esta carpeta",no_folders_in_folder:"Esta carpeta no contiene sub-carpetas",select_this:"Seleccionar esta",go_back:"Volver",wait:"Espere",move:"Mover",download:"Descargar",view_item:"Ver archivo",remove:"Eliminar",edit:"Editar",copy:"Copiar",rename:"Renombrar",extract:"Extraer",compress:"Comprimir",error_invalid_filename:"El nombre del archivo es invalido o ya existe",error_modifying:"Ocurrio un error al intentar modificar el archivo",error_deleting:"Ocurrio un error al intentar eliminar el archivo",error_renaming:"Ocurrio un error al intentar renombrar el archivo",error_copying:"Ocurrio un error al intentar copiar el archivo",error_compressing:"Ocurrio un error al intentar comprimir el archivo",error_extracting:"Ocurrio un error al intentar extraer el archivo",error_creating_folder:"Ocurrio un error al intentar crear la carpeta",error_getting_content:"Ocurrio un error al obtener el contenido del archivo",error_changing_perms:"Ocurrio un error al cambiar los permisos del archivo",error_uploading_files:"Ocurrio un error al subir archivos",sure_to_start_compression_with:"Esta seguro que desea comprimir",owner:"Propietario",group:"Grupo",others:"Otros",read:"Lectura",write:"Escritura",exec:"Ejecucion",original:"Original",changes:"Cambios",recursive:"Recursivo",preview:"Vista previa",open:"Abrir"});b.translations("fr",{filemanager:"Gestionnaire de fichier",language:"Langue",english:"Anglais",spanish:"Espagnol",portuguese:"Portugais",french:"Français",german:"Allemand",hebrew:"Hébreu",confirm:"Confirmer",cancel:"Annuler",close:"Fermer",upload_file:"Uploader un fichier",files_will_uploaded_to:"Les fichiers seront uploadé dans",uploading:"Upload en cours",permissions:"Permissions",select_destination_folder:"Sélectionné le dossier de destination",source:"Source",destination:"Destination",copy_file:"Copier le fichier",sure_to_delete:"Êtes-vous sûr de vouloir supprimer",change_name_move:"Renommer / Déplacer",enter_new_name_for:"Entrer le nouveau nom pour",extract_item:"Extraires les éléments",extraction_started:"L'extraction a démarré en tâche de fond",compression_started:"La compression a démarré en tâche de fond",enter_folder_name_for_extraction:"Entrer le nom du dossier pour l'extraction de",enter_folder_name_for_compression:"Entrer le nom du dossier pour la compression de",toggle_fullscreen:"Basculer en plein écran",edit_file:"Éditer le fichier",file_content:"Contenu du fichier",loading:"Chargement en cours",search:"Recherche",create_folder:"Créer un dossier",create:"Créer",folder_name:"Nom du dossier",upload:"Upload",change_permissions:"Changer les permissions",change:"Changer",details:"Details",icons:"Icons",list:"Liste",name:"Nom",size:"Taille",actions:"Actions",date:"Date",no_files_in_folder:"Aucun fichier dans ce dossier",no_folders_in_folder:"Ce dossier ne contiens pas de dossier",select_this:"Sélectionner",go_back:"Retour",wait:"Patienter",move:"Déplacer",download:"Télécharger",view_item:"Voir l'élément",remove:"Supprimer",edit:"Éditer",copy:"Copier",rename:"Renommer",extract:"Extraire",compress:"Compresser",error_invalid_filename:"Nom de fichier invalide ou déjà existant, merci de spécifier un autre nom",error_modifying:"Une erreur est survenue pendant la modification du fichier",error_deleting:"Une erreur est survenue pendant la suppression du fichier ou du dossier",error_renaming:"Une erreur est survenue pendant le renommage du fichier",error_copying:"Une erreur est survenue pendant la copie du fichier",error_compressing:"Une erreur est survenue pendant la compression du fichier ou du dossier",error_extracting:"Une erreur est survenue pendant l'extraction du fichier",error_creating_folder:"Une erreur est survenue pendant la création du dossier",error_getting_content:"Une erreur est survenue pendant la récupération du contenu du fichier",error_changing_perms:"Une erreur est survenue pendant le changement des permissions du fichier",error_uploading_files:"Une erreur est survenue pendant l'upload des fichiers",sure_to_start_compression_with:"Êtes-vous sûre de vouloir compresser",owner:"Propriétaire",group:"Groupe",others:"Autres",read:"Lecture",write:"Écriture",exec:"Éxécution",original:"Original",changes:"Modifications",recursive:"Récursif",preview:"Aperçu",open:"Ouvrir"});b.translations("de",{filemanager:"Dateimanager",language:"Sprache",english:"Englisch",spanish:"Spansisch",portuguese:"Portugiesisch",french:"Französisch",german:"Deutsch",hebrew:"Hebräisch",confirm:"Bestätigen",cancel:"Abbrechen",close:"Schließen",upload_file:"Datei hochladen",files_will_uploaded_to:"Dateien werden hochgeladen nach",uploading:"Lade hoch",permissions:"Berechtigungen",select_destination_folder:"Wählen Sie einen Zielordner",source:"Quelle",destination:"Ziel",copy_file:"Datei kopieren",sure_to_delete:"Sind Sie sicher, dass Sie die Datei löschen möchten?",change_name_move:"Namen ändern / verschieben",enter_new_name_for:"Geben Sie den neuen Namen ein für",extract_item:"Archiv entpacken",extraction_started:"Entpacken hat im Hintergrund begonnen",compression_started:"Komprimierung hat im Hintergrund begonnen",enter_folder_name_for_extraction:"Geben Sie den Verzeichnisnamen für die Entpackung an, von",enter_folder_name_for_compression:"Geben Sie den Verzeichnisnamen für die Komprimierung an, von",toggle_fullscreen:"Vollbild umschalten",edit_file:"Datei bearbeiten",file_content:"Dateiinhalt",loading:"Lade",search:"Suche",create_folder:"Ordner erstellen",create:"Erstellen",folder_name:"Verzeichnisname",upload:"Hochladen",change_permissions:"Berechtigungen ändern",change:"Ändern",details:"Details",icons:"Symbolansicht",list:"Listenansicht",name:"Name",size:"Größe",actions:"Aktionen",date:"Datum",no_files_in_folder:"Keine Dateien in diesem Ordner",no_folders_in_folder:"Dieser Ordner enthält keine Unterordner",select_this:"Auswählen",go_back:"Zurück",wait:"Warte",move:"Verschieben",download:"Herunterladen",view_item:"Datei ansehen",remove:"Löschen",edit:"Bearbeiten",copy:"Kopieren",rename:"Umbenennen",extract:"Entpacken",compress:"Komprimieren",error_invalid_filename:"Ungültiger Dateiname oder existiert bereits",error_modifying:"Beim Bearbeiten der Datei ist ein Fehler aufgetreten",error_deleting:"Beim Löschen der Datei oder des Ordners ist ein Fehler aufgetreten",error_renaming:"Beim Umbennenen der Datei ist ein Fehler aufgetreten",error_copying:"Beim Kopieren der Datei ist ein Fehler aufgetreten",error_compressing:"Beim Komprimieren der Datei oder des Ordners ist ein Fehler aufgetreten",error_extracting:"Beim Entpacken der Datei ist ein Fehler aufgetreten",error_creating_folder:"Beim Erstellen des Ordners ist ein Fehler aufgetreten",error_getting_content:"Beim Holen des Dateiinhalts ist ein Fehler aufgetreten",error_changing_perms:"Beim Ändern der Dateiberechtigungen ist ein Fehler aufgetreten",error_uploading_files:"Beim Hochladen der Dateien ist ein Fehler aufgetreten",sure_to_start_compression_with:"Möchten Sie die Datei wirklich komprimieren?",owner:"Besitzer",group:"Gruppe",others:"Andere",read:"Lesen",write:"Schreiben",exec:"Ausführen",original:"Original",changes:"Änderungen",recursive:"Rekursiv",preview:"Dateivorschau",open:"Öffnen"})}])})(angular);(function(a){a.module("FileManagerApp").service("fileNavigator",["$http","$q","fileManagerConfig","item",function(f,b,e,c){f.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var d=function(){this.requesting=false;this.fileList=[];this.currentPath=[];this.history=[];this.error=""};d.prototype.deferredHandler=function(h,g,i){if(!h||typeof h!=="object"){this.error="Bridge response error, please check the docs"}if(!this.error&&h.result&&h.result.error){this.error=h.result.error}if(!this.error&&h.error){this.error=h.error.message}if(!this.error&&i){this.error=i}if(this.error){return g.reject(h)}return g.resolve(h)};d.prototype.list=function(){var h=this;var g=b.defer();var j=h.currentPath.join("/");var i={onlyFolders:false,path:"/"+j};h.requesting=true;h.fileList=[];h.error="";f.post(e.listUrl,i).success(function(k){h.deferredHandler(k,g)}).error(function(k){h.deferredHandler(k,g,"Unknown error listing, check the response")})["finally"](function(){h.requesting=false});return g.promise};d.prototype.refresh=function(){var g=this;var h=g.currentPath.join("/");return g.list().then(function(i){g.fileList=(i.result||[]).map(function(j){return new c(j,g.currentPath)});g.buildTree(h)})};d.prototype.buildTree=function(l){var h=[],k={};function g(p,q,s){var t=s?(s+"/"+q.model.name):q.model.name;if(p.name.trim()&&s.trim().indexOf(p.name)!==0){p.nodes=[]}if(p.name!==s){for(var o in p.nodes){g(p.nodes[o],q,s)}}else{for(var r in p.nodes){if(p.nodes[r].name===t){return}}p.nodes.push({item:q,name:t,nodes:[]})}p.nodes=p.nodes.sort(function(v,u){return v.name.toLowerCase()<u.name.toLowerCase()?-1:v.name.toLowerCase()===u.name.toLowerCase()?0:1})}function n(o,q){q.push(o);for(var p in o.nodes){n(o.nodes[p],q)}}function i(o,p){return o.filter(function(q){return q.name===p})[0]}!this.history.length&&this.history.push({name:"",nodes:[]});n(this.history[0],h);k=i(h,l);k.nodes=[];for(var m in this.fileList){var j=this.fileList[m];j.isFolder()&&g(this.history[0],j,l)}};d.prototype.folderClick=function(g){this.currentPath=[];if(g&&g.isFolder()){this.currentPath=g.model.fullPath().split("/").splice(1)}this.refresh()};d.prototype.upDir=function(){if(this.currentPath[0]){this.currentPath=this.currentPath.slice(0,-1);this.refresh()}};d.prototype.goTo=function(g){this.currentPath=this.currentPath.slice(0,g+1);this.refresh()};d.prototype.fileNameExists=function(h){for(var g in this.fileList){g=this.fileList[g];if(h.trim&&g.model.name.trim()===h.trim()){return true}}};d.prototype.listHasFolders=function(){for(var g in this.fileList){if(this.fileList[g].model.type==="dir"){return true}}};return d}])})(angular);(function(b,a){a.module("FileManagerApp").service("fileUploader",["$http","$q","fileManagerConfig",function(f,c,e){function d(i,g,h){if(!i||typeof i!=="object"){return g.reject("Bridge response error, please check the docs")}if(i.result&&i.result.error){return g.reject(i)}if(i.error){return g.reject(i)}if(h){return g.reject(h)}g.resolve(i)}this.requesting=false;this.upload=function(j,n){if(!b.FormData){throw new Error("Unsupported browser version")}var h=this;var m=new b.FormData();var g=c.defer();m.append("destination","/"+n.join("/"));for(var k=0;k<j.length;k++){var l=j.item(k);l instanceof b.File&&m.append("file-"+k,l)}h.requesting=true;f.post(e.uploadUrl,m,{transformRequest:a.identity,headers:{"Content-Type":undefined}}).success(function(i){d(i,g)}).error(function(i){d(i,g,"Unknown error uploading files")})["finally"](function(){h.requesting=false});return g.promise}}])})(window,angular);